(this["webpackJsonpborc-defteri"]=this["webpackJsonpborc-defteri"]||[]).push([[0],{17:function(e,t,a){},23:function(e,t,a){},51:function(e,t,a){},75:function(e,t,a){},78:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var c=a(1),r=a(0),s=a.n(r),n=a(15),o=a.n(n),l=(a(51),a(5)),i=a(42),b=a(4),d=a(10),j=a.n(d),m=a(7),u=(a(17),a(87)),h=a(14),O=a.n(h),g=a.p+"static/media/logoborc.845694a5.png",f=(a(75),function(e){return Object(m.usePromiseTracker)().promiseInProgress&&Object(c.jsx)("div",{className:"loading",children:Object(c.jsx)("div",{className:"spinner-border text-dark",role:"status",children:Object(c.jsx)("span",{className:"sr-only",children:"Loading..."})})})}),x=(a(38),function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)(""),i=Object(l.a)(o,2),b=i[0],d=i[1],h=Object(r.useState)(!1),x=Object(l.a)(h,2),p=x[0],k=x[1],N=Object(r.useState)({wrong:!1,message:""}),y=Object(l.a)(N,2),v=y[0],w=y[1];return Object(c.jsxs)(s.a.Fragment,{children:[Object(c.jsx)(f,{}),Object(c.jsxs)("form",{className:"form-signin",children:[Object(c.jsx)("img",{className:"mb-4",src:g,alt:"",width:"90",height:"90"}),Object(c.jsx)("h1",{className:"h3 mb-3 font-weight-normal text-center",children:"Giri\u015f yap"}),"Giri\u015f ba\u015far\u0131l\u0131.Y\xf6nlendiriliyorsunuz"===v.message&&Object(c.jsx)(u.a,{variant:"success",children:v.message}),"Kullan\u0131c\u0131 ad\u0131 veya parola yanl\u0131\u015f."===v.message&&Object(c.jsx)(u.a,{variant:"danger",children:v.message}),Object(c.jsx)("label",{htmlFor:"inputEmail",className:"sr-only",children:"Email address"}),Object(c.jsx)("input",{onChange:function(e){n(e.target.value)},type:"email",className:"form-control",placeholder:"Email adresi",required:!0,autoFocus:!0}),Object(c.jsx)("label",{htmlFor:"inputPassword",className:"sr-only",children:"Password"}),Object(c.jsx)("input",{onChange:function(e){d(e.target.value)},type:"password",className:"form-control mb-0",placeholder:"\u015eifre",required:!0}),Object(c.jsx)("button",{onClick:function(e){e.preventDefault();Object(m.trackPromise)(j()({method:"post",url:"https://borc.cagataykaban.com/Token",data:O.a.stringify({grant_type:"password",username:a,password:b}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(e){console.log("oldu"),w({wrong:!0,message:"Giri\u015f ba\u015far\u0131l\u0131.Y\xf6nlendiriliyorsunuz"}),window.location.pathname="/",localStorage.removeItem("loginBorc_ck"),sessionStorage.removeItem("loginBorc_ck"),(p?localStorage:sessionStorage).loginBorc_ck=JSON.stringify(e.data.access_token)})).catch((function(e){"invalid_grant"===e.response.data.error&&w({wrong:!0,message:"Kullan\u0131c\u0131 ad\u0131 veya parola yanl\u0131\u015f."})})))},className:"btn btn-lg btn-success btn-block",type:"submit",children:"Giri\u015f yap"}),Object(c.jsx)("div",{className:"checkbox",children:Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{onClick:function(){k(!p)},className:"mt-4 mr-2",type:"checkbox"}),"Beni hat\u0131rla"]})}),Object(c.jsx)("p",{className:"mt-5 mb-3 text-muted",children:"\xa9 2021"})]})]})}),p=function(e){var t=Object(r.useState)(""),a=Object(l.a)(t,2),s=a[0],n=a[1],o=Object(r.useState)(""),i=Object(l.a)(o,2),b=i[0],d=i[1],h=Object(r.useState)(""),x=Object(l.a)(h,2),p=x[0],k=x[1],N=Object(r.useState)({wrong:!1,message:""}),y=Object(l.a)(N,2),v=y[0],w=y[1];return Object(c.jsxs)("form",{className:"form-signin",children:[Object(c.jsx)(f,{}),Object(c.jsx)("img",{className:"mb-4",src:g,alt:"",width:"90",height:"90"}),Object(c.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:"Kay\u0131t ol"}),v.wrong&&Object(c.jsx)(u.a,{variant:"danger",children:v.message}),Object(c.jsx)("label",{htmlFor:"inputEmail",className:"sr-only",children:"Email address"}),Object(c.jsx)("input",{onChange:function(e){w(!1),n(e.target.value)},type:"email",className:"form-control",placeholder:"Email adresi",required:!0,autoFocus:!0}),Object(c.jsx)("label",{htmlFor:"inputPassword",className:"sr-only",children:"Password"}),Object(c.jsx)("input",{onChange:function(e){w(!1),d(e.target.value)},type:"password",className:"form-control mb-0 border-bottom-0",placeholder:"\u015eifre",required:!0}),Object(c.jsx)("label",{htmlFor:"inputPasswordConfirm",className:"sr-only",children:"Password"}),Object(c.jsx)("input",{onChange:function(e){w(!1),k(e.target.value)},type:"password",className:"form-control mb-0",placeholder:"\u015eifre tekrar\u0131",required:!0}),Object(c.jsx)("button",{onClick:function(t){t.preventDefault();Object(m.trackPromise)(j()({method:"post",url:"https://borc.cagataykaban.com/api/Account/Register",data:O.a.stringify({email:s,password:b,confirmpassword:p}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(t){console.log("deneme"),e.registerOk()})).catch((function(e){e.response.data.ModelState["model.ConfirmPassword"]?w({wrong:!0,message:"\u015eifreler e\u015fle\u015fmiyor."}):e.response.data.ModelState[""][1]?w({wrong:!0,message:"Bu mail daha \xf6nce al\u0131nm\u0131\u015f."}):w({wrong:!0,message:"Parola min 6 karakterden olu\u015fmal\u0131 i\xe7inde noktalama i\u015fareti,b\xfcy\xfck,k\xfc\xe7\xfck harf ve rakam bulunmal\u0131d\u0131r."})})))},className:"text-white btn btn-lg btn-dark btn-block",type:"submit",children:"Kay\u0131t ol"}),Object(c.jsx)("p",{className:"mt-5 mb-3 text-muted",children:"\xa9 2021"})]})},k=(a(78),function(e){return Object(c.jsxs)("label",{className:"switch text-white",children:[Object(c.jsx)("input",{checked:!e.loginMi,onChange:e.onClick,className:"switch-input",type:"checkbox"}),Object(c.jsx)("span",{id:"switch-button-sign",className:"switch-label","data-on":"Sign-up","data-off":"Sign-in"}),Object(c.jsx)("span",{className:"switch-handle"})]})}),N=function(e){var t=Object(r.useState)(!0),a=Object(l.a)(t,2),s=a[0],n=a[1];return Object(c.jsxs)("div",{className:"login-register-container",children:[Object(c.jsx)(k,{loginMi:s,onClick:function(){n(!s)}}),!0===s?Object(c.jsx)(x,{}):Object(c.jsx)(p,{registerOk:function(){n(!0)}})]})},y=a(41),v=a(44),w=function(e){return Object(c.jsxs)("div",{className:"jumbotron",children:[Object(c.jsx)("h3",{className:"mb-2",children:"Bor\xe7 Giri\u015fi"}),Object(c.jsx)(f,{}),Object(c.jsxs)("form",{id:"frmBorcEkle",onSubmit:function(t){t.preventDefault();Object(m.trackPromise)(j()({method:"post",url:"https://borc.cagataykaban.com/api/Borclar/Ekle",data:O.a.stringify({Taraf:e.taraf,BorcMiktar:e.borcMiktar,BorcluMuyum:e.borcluMuyum,SonOdemeTarihi:e.odemeTarihi.date}),headers:{Authorization:"Bearer "+e.token}}).then((function(t){console.log(t.data),console.log("eklendi"),e.setTaraf(""),e.setBorclar([].concat(Object(v.a)(e.borclar),[t.data])),document.getElementById("frmBorcEkle").reset()})).catch((function(e){console.log(e)})))},children:[Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("input",{value:e.taraf,onChange:function(t){e.setTaraf(t.target.value)},required:!0,className:"form-control",placeholder:"\u0130sim"})}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("input",{onChange:function(t){e.setBorcMiktar(t.target.value)},step:"any",required:!0,type:"number",className:"form-control",placeholder:"Miktar"})}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"SonOdemeTarihi",children:"Son Odeme Tarihi"}),Object(c.jsx)("input",{onChange:function(t){e.setOdemeTarihi({date:t.target.value})},className:"form-control",type:"date"})]}),Object(c.jsxs)("div",{className:"form-check form-group",children:[Object(c.jsx)("input",{onChange:function(){e.setBorcluMuyum(!e.borcluMuyum)},className:"form-check-input",type:"checkbox"}),"Bor\xe7lumuyum"]}),Object(c.jsx)("button",{type:"submit",className:"btn btn-success w-100",children:"Kaydet"})]})]})},B=(a(23),function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.borc.Taraf}),Object(c.jsxs)("td",{className:"borc-miktar",style:e.borc.BorcluMuyum?{color:"red"}:{color:"green"},children:[e.borc.BorcMiktar.toFixed(2),"\u20ba"]}),Object(c.jsx)("td",{children:e.borc.SonOdemeTarihi.substr(0,10)}),Object(c.jsx)("td",{className:"d-flex align-items-baseline",children:Object(c.jsx)("i",{onClick:function(){Object(m.trackPromise)(j()({method:"delete",url:"https://borc.cagataykaban.com/api/Borclar/Sil/"+e.borc.Id,headers:{Authorization:"Bearer "+e.token}}).then((function(t){e.setBorclar(e.borclar.filter((function(t){return t.Id!==e.borc.Id}))),console.log("oldu silme ")})).catch((function(e){console.log(e)})))},style:{color:"red"},className:"fas fa-trash"})})]},e.borc.id)}),S=function(e){return Object(c.jsx)("div",{className:"jumbotron mobil-p-0",children:Object(c.jsx)("div",{className:"card",children:Object(c.jsxs)("table",{className:"table",id:"tblBorclar",children:[Object(c.jsx)("thead",{className:"card-header",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Taraf"}),Object(c.jsx)("th",{className:"borc-miktar",children:"Miktar (\u20ba)"}),Object(c.jsx)("th",{children:"Son \xd6deme"}),Object(c.jsx)("th",{children:"Durum"})]})}),Object(c.jsx)("tbody",{children:e.borclar.map((function(t){return Object(c.jsx)(B,{borclar:e.borclar,setBorclar:e.setBorclar,token:e.token,borc:t},t.Id)}))})]})})})},C=function(e){var t=Object(r.useState)(""),a=Object(l.a)(t,2),s=a[0],n=a[1],o=Object(r.useState)(0),i=Object(l.a)(o,2),b=i[0],d=i[1],u=Object(r.useState)({}),h=Object(l.a)(u,2),O=h[0],f=h[1],x=Object(r.useState)(!1),p=Object(l.a)(x,2),k=p[0],N=p[1],v=Object(r.useState)([]),B=Object(l.a)(v,2),C=B[0],M=B[1];return Object(r.useEffect)((function(){Object(m.trackPromise)(j()({method:"get",url:"https://borc.cagataykaban.com/api/Borclar/Listele",headers:{Authorization:"Bearer "+e.token}}).then((function(e){console.log(e.data),M(e.data)})).catch((function(e){console.log(e)})))}),[]),Object(c.jsxs)("div",{className:"container card p-0 mb-4",children:[Object(c.jsxs)("div",{className:"card-header d-flex align-items-center nav",children:[Object(c.jsxs)("div",{className:"mr-3 d-flex",children:[Object(c.jsx)("img",{src:g,width:"50",alt:""}),Object(c.jsx)("h3",{className:"mb-0 mt-2 ml-2",children:"Bor\xe7 Defteri"})]}),Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)("h4",{className:"mb-0 mt-1",children:e.userName}),Object(c.jsx)("button",{onClick:function(){localStorage.removeItem("loginBorc_ck"),sessionStorage.removeItem("loginBorc_ck"),window.location.href="/"},className:"btn btn-danger ml-2",children:"\xc7\u0131k\u0131\u015f Yap"})]})]}),Object(c.jsxs)("div",{className:"row px-3",children:[Object(c.jsx)("div",{className:"col-md-4 mt-4",children:Object(c.jsx)(w,{borclar:C,setBorclar:M,taraf:s,borcMiktar:b,odemeTarihi:O,borcluMuyum:k,setTaraf:n,setOdemeTarihi:f,setBorcluMuyum:N,setBorcMiktar:d,token:e.token})}),Object(c.jsx)("div",{className:"col-md-8 mt-4",children:Object(c.jsx)(S,Object(y.a)({borclar:C,setBorclar:M,token:e.token},"borclar",C))})]})]})},M=function(){Object(r.useEffect)((function(){e();e()&&Object(m.trackPromise)(j()({method:"get",url:O+"api/Account/UserInfo",headers:{Authorization:"Bearer "+e()}}).then((function(e){h(e.data.Email),console.log("oldu"),n(!0)})).catch((function(e){n(!1),console.log("olmad\u0131")})))}),[]);var e=function(){var e=sessionStorage.loginBorc_ck||localStorage.loginBorc_ck;return e&&(e=e.substring(1,e.length-1)),e||null},t=Object(r.useState)(!1),a=Object(l.a)(t,2),s=a[0],n=a[1],o=Object(r.useState)(""),d=Object(l.a)(o,2),u=d[0],h=d[1],O="https://borc.cagataykaban.com/";return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(i.a,{children:Object(c.jsx)(b.c,{children:!1===s?Object(c.jsx)(b.a,{children:Object(c.jsx)(N,{apiUrl:O})}):Object(c.jsx)(b.a,{children:Object(c.jsx)(C,{userName:u,token:e()})})})})})},P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,88)).then((function(t){var a=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,n=t.getTTFB;a(e),c(e),r(e),s(e),n(e)}))};o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(M,{})}),document.getElementById("root")),P()}},[[85,1,2]]]);
//# sourceMappingURL=main.89e93b24.chunk.js.map